#!/usr/bin/env sh

# PURPOSE:
# Edits today's journal file and commits changes to the repo.
#
# REQUIREMENTS:
# Vim must be installed.
#
# USAGE:
# ./journal-today.sh

# abort on errors
set -e

journal_dir="/Users/david/Documents/Notes/journal"
date=$(date +%F)
file="$journal_dir"/"$date.md"

if [ ! -f "$file" ]; then
  touch "$file"
  echo "# $date\n\n## Log\n\n\n## Links" >> "$file"
fi

# TODO: Logic for opening file under the Log section if file is new.

$EDITOR "$file"
